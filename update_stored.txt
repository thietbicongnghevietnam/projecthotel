loi from dang nhap toart chua hien.....
code signalr
https://stackoverflow.com/questions/18143599/can-signalr-be-used-with-asp-net-webforms
===========================
	----- begin rollback ----
SET XACT_ABORT ON
	BEGIN TRAN
	BEGIN TRY

.....
----- end rollback ----
 COMMIT
	END TRY
	BEGIN CATCH
	   ROLLBACK
	   DECLARE @ErrorMessage VARCHAR(2000)
	   SELECT @ErrorMessage = 'Lá»—i: ' + ERROR_MESSAGE()
	   RAISERROR(@ErrorMessage, 16, 1)
	END CATCH


======================= 18.05.2024
htsocai => cot idnhanvien = int sang nvarchar(20)
TBL_USER2 ==> 
NH_BaocaoBH_theogio
NH_save_thongtinhanghoa
NH_BaocaoBH_NV
NH_BaocaoBH_theongay_NV


[NH_select_info_phong3] 
[NH_select_khuvuc3]
NH_select_khuvuc4
NH_select_info_phong4
NH_Get_nhanvien

NH_insert_thongtindoanhnghiep
NH_Update_doanhnghiep
NH_thongtin_doanhnghiep

====
USE [Warehouse_BPS]
GO
/****** Object:  StoredProcedure [dbo].[NH_BaocaoBH_theogio]    Script Date: 05/18/2024 09:03:45 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

ALTER PROCEDURE [dbo].[NH_BaocaoBH_theogio] -- NH_BaocaoBH_theogio '2024-05-18 06:00:00','2024-05-18 07:30:00'
	@checkin as nvarchar(50),
	@checkout as nvarchar(50)
AS
BEGIN
--CAST('2024-05-18 07:09:56' AS DATETIME);
--CONVERT(DATETIME, '2024-05-18 07:09:56', 120)

select * from 
(
select id,sohd,type,ngaygiothue,ngaygiora,tongthoigianthue,tenphong,
tienphong,tiengiohat,items,tienhang,tongtien,chietkhau,tiensauchietkhau,hinhthucnghi,mohinh,created,idnhanvien,psco,CONVERT(VARCHAR(5),ngaygiothue,108) as giovao,CONVERT(VARCHAR(5),ngaygiora,108) as giora from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout  

union 

select '' as id,'-','-','','','','Tong tien',
(select sum(tienphong) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout) as tienphong,
(select sum(tiengiohat) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout) as tiengiohat,
'' as items,
(select sum(tienhang) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout) as tienhang,
(select sum(tongtien) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout) as tongtien,
(select sum(chietkhau) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout) as chietkhau,
(select sum(tiensauchietkhau) from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout)as tiensauchietkhau,
'' as hinhthucnghi,
'' as mohinh,
GETDATE() as created,
'' as idnhanvien,
'' as psco,
'' as giovao,
'' as giora
from htsocai where type<>2 and ngaygiora BETWEEN  @checkin AND @checkout
) ABC order by created asc





END
