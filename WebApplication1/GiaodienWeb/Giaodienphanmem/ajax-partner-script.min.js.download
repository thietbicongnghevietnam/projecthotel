jQuery(document).ready(function($){function change_captcha(){document.getElementById("captcha-partner").src=php_vars.template_uri+"/recaptcha/get_captcha.php?rnd="+Math.random()}$("#ajax-partner-captcha-refresh").click(function(){change_captcha()}),$(".poup-register-partner .fa-times-circle").on("click",function(){return $("#popup_signup_partner").fadeOut(500,function(){$(".login_overlay").hide()}),!1}),$(".show_signup_partner").on("click",function(e){$(".login_overlay").show(),$("#popup_signup_partner").fadeIn(500),e.preventDefault()}),jQuery(".btn-popup").click(function(){jQuery(".primary-popup").hide(),jQuery(".primary-poup").show()});var isCaptchaValid;$("#register_partner").on("submit",function(e){return isCaptchaValid=!1,captcha_code=$("#partner-captcha-code").val(),code=$("#partner-captcha-code").val(),fullname=$("#fullname_partner").val(),email=$("#email_partner").val(),phone=$("#phone_partner").val(),website=$("#website").val(),username=$("#username_partner").val(),password=$("#password_partner").val(),address=$("#address").val(),$.ajax({url:php_vars.template_uri+"/recaptcha/checkCaptcha.php",type:"POST",async:!1,dataType:"text",data:{captcha_code:captcha_code,code:code},success:function(resp){$("#ldng-partner").show(),0==resp?$.ajax({type:"POST",url:php_vars.site_uri+"/dang-ky-partner//",data:{request:{fullname:fullname,email:email,phone:phone,website:website,username:username,password:password,address:address}},success:function(e){$("#ldng-partner").hide(),0==e?($(".msg-error").html("Trùng tên đăng nhập").attr("style","color:red"),document.getElementById("captcha-partner").src=php_vars.template_uri+"/recaptcha/get_captcha.php?rnd="+Math.random()):2==e?($(".msg-error").html("Không thành công.Vui lòng liên hệ trực tiếp với KiotViet").attr("style","color:red"),document.getElementById("captcha-partner").src=php_vars.template_uri+"/recaptcha/get_captcha.php?rnd="+Math.random()):($(".register-wr").hide(),$(".success").show(),$("#madaily").html(e))},dataType:"json",error:function(xhr,status,error){var err=eval("("+xhr.responseText+")");alert(err)}}):($("#ldng-partner").hide(),$(".msg-error").html("Sai mã xác nhận").attr("style","color:red"),document.getElementById("captcha-partner").src=php_vars.template_uri+"/recaptcha/get_captcha.php?rnd="+Math.random())},error:function(xhr,status,error){var err=eval("("+xhr.responseText+")");alert(err)}}),e.preventDefault(),!1})});